# Enable Powerlevel10k instant prompt
if [[ -r "${XDG_CACHE_HOME:-$HOME/.cache}/p10k-instant-prompt.zsh" ]]; then
  source "${XDG_CACHE_HOME:-$HOME/.cache}/p10k-instant-prompt.zsh"
fi

# -- Oh-My-Zsh Configuration --
export ZSH="$HOME/.oh-my-zsh"

ZSH_THEME="powerlevel10k/powerlevel10k"

CASE_SENSITIVE="false"
HYPHEN_INSENSITIVE="false"
DISABLE_AUTO_UPDATE="true"
DISABLE_UPDATE_PROMPT="true"
ENABLE_CORRECTION="false"
COMPLETION_WAITING_DOTS="true"
HIST_STAMPS="mm/dd/yyyy"

export HISTSIZE=10000
export UPDATE_ZSH_DAYS=14

# -- Minimal Plugin Set for Servers --
plugins=(
  git
  zsh-autosuggestions
  zsh-syntax-highlighting
  history
)

source $ZSH/oh-my-zsh.sh

# Load Powerlevel10k config
[[ ! -f ~/.p10k.zsh ]] || source ~/.p10k.zsh

# -- Essential Aliases --
alias ll="ls -al"
alias la="ls -A"
alias l="ls -CF"
alias mkdir="mkdir -p"
alias c="clear"
alias h="history"

# Navigation
alias ..="cd .."
alias ...="cd ../.."
alias ....="cd ../../.."

# Flow
alias f="flow"
alias lib="flow browse"

# Include local binary path
export PATH="$PATH:$HOME/.local/bin"

# Print PATH entries
alias path='echo -e ${PATH//:/\\n}'

# -- Docker Aliases (if Docker is installed) --
if command -v docker > /dev/null; then
  alias d="docker"
  alias dc="docker compose"
  alias dps="docker ps"
  alias dimg="docker images"
  alias dlog="docker logs"
fi

# -- Kubernetes Aliases (if kubectl is installed) --
if command -v kubectl > /dev/null; then
  alias k="kubectl"
  alias kgp="kubectl get pods"
  alias kgs="kubectl get svc"
  alias kgn="kubectl get nodes"
  alias kdp="kubectl describe pod"
  alias kl="kubectl logs"
fi

# -- Local Config --
[[ -f ~/.zshrc.local ]] && source ~/.zshrc.local
